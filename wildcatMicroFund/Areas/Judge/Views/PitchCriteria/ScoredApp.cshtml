@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model wildcatMicroFund.Areas.Judge.ViewModels.ScoredAppVM
@{
    ViewData["Title"] = "Application Score";
    var totalScore = 0.0;
    int[] scoreList = new int[5];
    var i = 0;
}

<div class="col-12">
    <div class="col-12 row text-center"><h1>Score evaluation for @Model.Application.CompanyName</h1></div>
    <div class="row mt-2 mb-2">
        <div class="col-6 border border-dark border-2 mt-3 mb-3">
        <h2>Judge 1 Scores</h2>
        @foreach (var obj in Model.AssignedQuestions){
            <div class="form-group row m-2">
                <div class="col-8">
                        <h5>@obj.QuestionUse.Question.QuestionSummary</h5>
                </div>
                
                @foreach(var score in Model.Score){

                    @if(score.AssignedQuestion.AssignedQuestionId == obj.AssignedQuestionId ){
                        
                        <div class="col-4">
                                <h5>@score.ScoreValue &nbsp / &nbsp @obj.QuestionUse.QuestPointValue</h5>
                            <p hidden>@(scoreList[i] = score.ScoreValue)</p>
                        </div>
                            <p hidden>@(i++)</p>
                    }
                }
            </div>
        }
        </div>

        <div class="col-6 border border-dark border-2 mt-3 mb-3">
        <h2>Judge 2 Scores</h2>
        @foreach (var obj in Model.AssignedQuestions)
        {
            <div class="form-group row m-2">
                <div class="col-8">
                    <h5>@obj.QuestionUse.Question.QuestionSummary</h5>
                </div>

                <div class="col-4">
                    <h5>@obj.QuestionUse.QuestPointValue &nbsp / &nbsp @obj.QuestionUse.QuestPointValue</h5>      
                </div>

            </div>
        }
        </div>
    </div>

    <div class="row">
        <div class="col-6 offset-3 border border-dark border-2 mt-3 mb-3">
            <h2>Average Scores</h2>
            @foreach (var obj in Model.AssignedQuestions)
            {
                <div class="form-group row m-2">
                    <div class="col-8">
                        <h5>@obj.QuestionUse.Question.QuestionSummary</h5>
                    </div>

                    @foreach (var score in Model.Score)
                    {

                        @if (score.AssignedQuestion.AssignedQuestionId == obj.AssignedQuestionId)
                        {

                            <div class="col-4">
                                <h5>@((score.ScoreValue + obj.QuestionUse.QuestPointValue) / 2.0) &nbsp / &nbsp @obj.QuestionUse.QuestPointValue</h5>
                                <p hidden>@(totalScore += ((score.ScoreValue + obj.QuestionUse.QuestPointValue) / 2.0))</p>
                            </div>
                        }
                    }
                </div>
            }
        </div>
    </div>

    <div class="col-12 row m-3 text-center">
        <h1>Total Score: &nbsp @totalScore</h1>
    </div>



</div>
